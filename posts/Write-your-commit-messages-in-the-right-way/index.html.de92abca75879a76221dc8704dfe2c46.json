{"head":{"title":"Write your commit messages in the right way","date":"2017-03-05T11:56:05.000Z","layout":"Post","description":"è¦æ€éº¼å¯« commit messages ä¸€ç›´æ˜¯çˆ­è«–ä¸ä¼‘çš„è­°é¡Œï¼Œæ¯å€‹ team æœ‰è‡ªå·±åå¥½çš„æ–¹å¼ï¼Œä»¥åŠæ‰€è¬‚çš„ best practicesï¼Œåƒæ˜¯çŸ¥åçš„ AngularJS commitâ€¦"},"body":"<p>è¦æ€éº¼å¯« <code>commit messages</code> ä¸€ç›´æ˜¯çˆ­è«–ä¸ä¼‘çš„è­°é¡Œï¼Œæ¯å€‹ team æœ‰è‡ªå·±åå¥½çš„æ–¹å¼ï¼Œä»¥åŠæ‰€è¬‚çš„ <em>best practices</em>ï¼Œåƒæ˜¯çŸ¥åçš„ <a href=\"https://gist.github.com/stephenparish/9941e89d80e2bc58a153\">AngularJS commit convensions</a>ï¼Œåœ¨é€™è£¡æˆ‘ä¸æƒ³è¨è«–å“ªå€‹æ¨™æº–æ‰æ˜¯æœ€å¥½çš„ï¼Œå› ç‚ºå¯¦éš›ä¸Šé‚„æ˜¯è¦æ ¹æ“šè‡ªå·±çš„åœ˜éšŠå»é¸æ“‡é©åˆçš„æ¨™æº–ï¼Œåªè¦å…§éƒ¨çµ±ä¸€äº†ä¸”æ¯å€‹äººéƒ½èƒ½éµå®ˆé‚£å€‹è¦ç¯„çš„è©±ï¼Œæˆ‘è¦ºå¾—æ²’æœ‰å¿…è¦ç‚ºäº†é”åˆ°å®Œç¾è€Œæ‹–æ…¢æˆ–é™åˆ¶äº†åœ˜éšŠçš„æ­¥ä¼ã€‚</p>\n<p>èªªæ˜¯é€™éº¼èªªâ‹¯â‹¯ä½†ä½ æœƒæƒ³çœ‹åˆ°é€™æ¨£çš„ <code>commit log</code> å—ï¼Ÿ</p>\n<pre><code class=\"hljs language-bash\">[5f25bbe] hide loading-word too\n[3c80512] finally\n[9578933] trying important\n[1f65c26] hide loading wrapper</code></pre>\n<p>æ²’éŒ¯ï¼Œä»¥å‰æˆ‘çš„ <code>commit</code> çœŸçš„æ˜¯é€™æ¨£å¯«çµ¦è‡ªå·±çœ‹çš„ï¼Œä½†å…¶å¯¦å¯¦éš›ä¸Šç¾åœ¨ä¾†çœ‹é€£æˆ‘è‡ªå·±éƒ½çœ‹ä¸æ‡‚ï¼Œé€™æ¨£çš„ <code>commit messages</code> æ²’æœ‰ä»»ä½•æ„ç¾©å°±åªæ˜¯ç‚ºäº† <code>commit</code> è€Œ <code>commit</code> è€Œå·²ï¼Œå°æ–¼å€‹äººçš„å°å°ˆæ¡ˆçš„è©±ä¹Ÿè¨±é‚„ä¸æœƒæœ‰å½±éŸ¿ï¼Œä½†è‹¥æ˜¯åœ¨åœ˜éšŠä¸­çš„è©±å¯æ˜¯æœƒè®“ Code Review å’Œ Changelog æœ‰å¾ˆå¤§çš„å›°æ“¾ã€‚</p>\n<p>æ‰€ä»¥ç¸±ä½¿æˆ‘ä¸¦ä¸å–œæ­¡ over engineering çš„ <code>commit</code> è¨­è¨ˆï¼Œä½†è£¡é¢æœ‰è¨±å¤šå¯¦ç”¨çš„å¤§é‡é»æ˜¯æˆ‘èªç‚ºæ‡‰è©²è¦éµå®ˆçš„ã€‚</p>\n<h3 id=\"use-english-whenever-possible\"><a href=\"#use-english-whenever-possible\" class=\"phenomic-HeadingAnchor\">#</a>Use English whenever possible</h3>\n<p>ç›¡å¯èƒ½åœ°å¯«è‹±æ–‡ã€‚</p>\n<p>ã€Œå¯æ˜¯æˆ‘çš„åœ˜éšŠéƒ½æ˜¯å°ç£äººå‘€ï¼Ÿç‚ºä»€éº¼ <code>commit messages</code> ä¸èƒ½ç”¨è‡ªå·±çš„æ¯èªå‘¢ï¼Ÿã€ä½ å¯èƒ½æœƒé€™éº¼æƒ³ï¼Œä½†æ˜¯ç•¶ä½ å€‘çš„å°ˆæ¡ˆ open source ä»¥å¾Œï¼Œä¾†è‡ªä¸–ç•Œå„åœ°çš„äººè¦æ€éº¼è®€æ‡‚ä½ å€‘çš„æ¯èªå‘¢ï¼Ÿç¾å¯¦ä¸Šä¾†èªªè‹±æ–‡ç¢ºå¯¦æ˜¯åœ¨å·¥ç¨‹å¸«ä¹‹é–“æœ€å»£æ³›ä½¿ç”¨çš„èªè¨€ï¼Œç”¨è‹±æ–‡ä¾†å¯« <code>commit</code> å¯ä»¥ç¢ºä¿æœ‰æœ€å¤šçš„äººå¯ä»¥çœ‹å¾—æ‡‚ï¼Œå°±ç®—ä½ å€‘çš„å°ˆæ¡ˆæ˜¯å…¬å¸çš„ç”¢å“ä¸¦æ²’æœ‰æ‰“ç®—è¦é–‹æºï¼Œä½†èª°ä¹Ÿä¸èƒ½ä¿è­‰å¾€å¾Œçš„æ—¥å­å“ªä¸€å¤©çªç„¶å°±æ±ºå®šè¦é–‹æºäº†ï¼Œç•¢ç«Ÿé€£ <a href=\"https://github.com/chrislgarry/Apollo-11\">Apollo 11</a> éƒ½é–‹æºäº†ã€‚</p>\n<h3 id=\"use-the-imperative-mood-in-the-subject-line\"><a href=\"#use-the-imperative-mood-in-the-subject-line\" class=\"phenomic-HeadingAnchor\">#</a>Use the imperative mood in the subject line</h3>\n<p>æ¨™é¡Œä½¿ç”¨ç¥ˆä½¿èªå¥ã€‚</p>\n<p>ç°¡å–®ä¾†èªªå°±æ˜¯ä»¥ç¾åœ¨å¼å‹•è©ç‚ºé–‹é ­çš„å¥å­ï¼Œåœ¨é€™è£¡ä¸æ¢è¨æ–‡æ³•ä¹‹é¡çš„å•é¡Œï¼Œå–®ç´”å°±çµæ§‹ä¾†çœ‹ç¥ˆä½¿å¥çœ‹èµ·ä¾†æ›´ç›´æ¥æ›´ç°¡å–®ï¼Œç›´æ¥ä»£è¡¨äº†é€™å€‹ <code>commit</code> <strong>å¦‚æœå¥—ç”¨å¾Œæœƒåšä»€éº¼</strong>ï¼Œè€Œä¸æ˜¯åšäº†äº›ä»€éº¼ï¼Œç”¨ä¸€å¥è‹±æ–‡ä¾†è¡¨é”çš„è©±æœƒæ˜¯åƒé€™æ¨£ã€‚</p>\n<blockquote>\n<p>If applied, this commit will [<em><strong>commit subject</strong></em>]</p>\n</blockquote>\n<p>å°‡ <code>commit subject</code> ä»£æ›æˆä½ çš„ <code>commit</code> æ¨™é¡Œå¾Œå¦‚æœèƒ½å½¢æˆä¸€å€‹æ­£ç¢ºçš„å¥å­çš„è©±å°±æ˜¯å¥½çš„æ¨™é¡Œã€‚</p>\n<p>å¦å¤–åœ¨æ¨™é¡Œçš„æœ€å¾Œï¼Œä¹Ÿè¦é¿å…ä½¿ç”¨å¥è™Ÿä¾†åšçµå°¾ï¼Œé€™åœ¨æ¨™é¡Œçš„ä½¿ç”¨ä¸Šé¡¯å¾—å¤šé¤˜ï¼Œä½†è‹¥æ˜¯ <code>commit</code> çš„å…§æ–‡çš„è©±å‰‡å¯«ä¸€èˆ¬çš„è‹±æ–‡èªæ³•å³å¯ï¼Œä¸éœ€è¦ä½¿ç”¨ç¥ˆä½¿å¥ä¹Ÿä¸éœ€è¦çœç•¥å¥è™Ÿã€‚</p>\n<h3 id=\"use-a-list-of-types-to-categorize-the-commit\"><a href=\"#use-a-list-of-types-to-categorize-the-commit\" class=\"phenomic-HeadingAnchor\">#</a>Use a list of types to categorize the commit</h3>\n<p>å°‡ <code>commit</code> æ­¸é¡æ–¼ä¸€å€‹ç¨®é¡æ¸…å–®ã€‚</p>\n<p>æ¯å€‹ <code>commit</code> éƒ½æœƒæœ‰ä¸€å€‹ä¸»è¦çš„ç›®æ¨™ï¼Œè€Œé‚£å€‹ç›®æ¨™å¤§è‡´å¯ä»¥æ­¸é¡åœ¨ä¸€å€‹ç¨®é¡æ¸…å–®ä¸­ï¼Œä¸€å€‹æ¸…å–®çš„ä¾‹å­å¯ä»¥æ˜¯ï¼š</p>\n<ul>\n<li><code>Feat</code>: A new feature</li>\n<li><code>Fix</code>: A bug fix</li>\n<li><code>Docs</code>: Documentation only changes</li>\n<li><code>Style</code>: Changes that do not affect the meaning of the code</li>\n<li><code>Refactor</code>: A code change that neither fixes a bug nor adds a feature</li>\n<li><code>Perf</code>: A code change that improves performance</li>\n<li><code>Test</code>: Adding missing tests or correcting existing tests</li>\n</ul>\n<p>æ¸…å–®çš„é¸æ“‡å¯ä»¥ç›´æ¥ä½¿ç”¨ç¤¾ç¾¤ä¸Šç¾æœ‰çš„æ¸…å–®ï¼Œä¹Ÿå¯ä»¥è‡ªå·±é‡å°éœ€æ±‚å»åšæ”¹è®Šï¼Œå¦‚æ­¤ä¸€ä¾†æ•´å€‹åœ˜éšŠå°±æœ‰çµ±ä¸€çš„ <code>commit</code> æ­¸é¡ï¼Œåœ¨ log ä¸Šå°±å¯ä»¥å¾ˆæ¸…æ¥šçœ‹å‡ºæ¯å€‹ <code>commit</code> çš„ç¨®é¡ï¼Œåœ¨æ—¥å¾Œç”¢ç”Ÿ changelog æ™‚ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚</p>\n<p>æ‰¾å‡º <code>commit</code> çš„ <code>type</code> ä»¥å¾Œï¼Œå°‡å®ƒæ”¾åœ¨ <code>commit</code> æ¨™é¡Œçš„å‰é¢ï¼Œåƒæ˜¯ï¼š</p>\n<blockquote>\n<p>refactor: format and lint code</p>\n</blockquote>\n<p>æ ¼å¼å¯ä»¥è‡ªå·±æ±ºå®šï¼Œå†’è™Ÿåªæ˜¯ä¸€èˆ¬çš„è¡¨ç¾æ–¹å¼ï¼Œå¾Œé¢å°±æ¥åŸæœ¬ subject çš„ç¥ˆä½¿å¥ã€‚</p>\n<h2 id=\"commitizen\"><a href=\"#commitizen\" class=\"phenomic-HeadingAnchor\">#</a>Commitizen</h2>\n<p>èº«ç‚ºé–‹ç™¼è€…ï¼Œç•¶ç„¶æ˜¯æ‰€æœ‰æ±è¥¿éƒ½å¯ä»¥è‡ªå‹•åŒ–çš„è©±è¶Šå¥½ï¼Œåˆæˆ–è€…åœ¨ä¸åŒå°ˆæ¡ˆä¸­è¦ä½¿ç”¨ä¸åŒçš„ <code>commit</code> è¦å‰‡ï¼Œé€™æ™‚å°±æœƒéœ€è¦ä¸€äº›å·¥å…·ä¾†å¹«å¿™äº†ã€‚<a href=\"https://github.com/commitizen/cz-cli\">Commitizen</a> æ˜¯å…¶ä¸­ä¸€å€‹ç›¸ç•¶å—æ­¡è¿çš„å·¥å…·ï¼Œå°¤å…¶å’Œ Node.js çš„å°ˆæ¡ˆç›¸å®¹æ€§å¾ˆé«˜ã€‚</p>\n<h3 id=\"getting-started\"><a href=\"#getting-started\" class=\"phenomic-HeadingAnchor\">#</a>Getting Started</h3>\n<p>é¦–å…ˆå®‰è£ <code>Commitizen</code>ï¼ˆæˆ–æ˜¯ä½¿ç”¨ npm å®‰è£ï¼Œä»¥ä¸‹çš†ä½¿ç”¨ yarn åšç¤ºç¯„ï¼‰ã€‚</p>\n<pre><code class=\"hljs language-bash\">yarn global add commitizen\n<span class=\"hljs-comment\"># npm install -g commitizen</span></code></pre>\n<p>ä¹‹å¾Œå®‰è£å…¶ä¸­ä¸€å€‹ <code>adapter</code>ï¼Œå¯ä»¥æŠŠå®ƒç•¶ä½œä¸€ç¨®é è¨­çš„è¦ç¯„ï¼Œä½ å¯ä»¥é¸æ“‡ç›´æ¥ä½¿ç”¨ç¾æœ‰çš„æˆ–æ˜¯è‡ªå·±å¯«ä¸€å€‹é©åˆåœ˜éšŠçš„ï¼Œåœ¨é€™è£¡æˆ‘ç”¨æˆ‘è‡ªå·±å¯«çš„ <a href=\"https://github.com/kevin940726/emoji-cz\"><code>emoji-cz</code></a> <code>adapter</code> ä¾†åšç¤ºç¯„ï¼Œé€™æ˜¯ä¸€å€‹åŸºæ–¼ä»¥ä¸Šæˆ‘æ¨è–¦çš„å¤§åŸå‰‡ä¹‹ä¸‹åœ¨ subject å‰é¢åŠ ä¸Š type å°æ‡‰çš„ emoji çš„ <code>adapter</code>ã€‚</p>\n<pre><code class=\"hljs language-bash\">yarn global add emoji-cz</code></pre>\n<p>æ¥ä¸‹ä¾†æŒ‡å®šå°‡ <code>emoji-cz</code> ä½œç‚º <code>Commitizen</code> çš„ global <code>adapter</code>ã€‚</p>\n<pre><code class=\"hljs language-bash\"><span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">'{ \"path\": \"emoji-cz\" }'</span> > ~/.czrc</code></pre>\n<p>å®Œæˆå¾Œå¾€å¾Œçš„ <code>commit</code> éƒ½ç”¨ <code>git cz</code> ä¾†å–ä»£åŸæœ¬çš„ <code>git commit</code> æŒ‡ä»¤ã€‚</p>\n<pre><code class=\"hljs language-text\">> git cz\n? <span class=\"hljs-built_in\">Select</span> the <span class=\"hljs-built_in\">type</span> of change that you're committing: (<span class=\"hljs-keyword\">Use</span> arrow keys)\nâ¯ âœ¨  Feat:      A <span class=\"hljs-keyword\">new</span> feature\n  ğŸ›  Fix:       A bug fix\n  ğŸ“š  Docs:      Documentation only changes\n  ğŸ¨  Style:     Changes that <span class=\"hljs-keyword\">do</span> <span class=\"hljs-keyword\">not</span> affect the meaning of the <span class=\"hljs-built_in\">code</span>\n  ğŸ”¨  Refactor:  A <span class=\"hljs-built_in\">code</span> change that neither fixes a bug nor adds a feature\n  ğŸš€  Perf:      A <span class=\"hljs-built_in\">code</span> change that improves performance\n  ğŸš¨  Test:      Adding missing tests <span class=\"hljs-keyword\">or</span> correcting existing tests</code></pre>\n<p>ä»¥ <code>emoji-cz</code> ç‚ºä¾‹å°±æœƒè®“ä½ å¾é è¨­çš„æ¸…å–®ä¸­é¸æ“‡é€™æ¬¡ <code>commit</code> çš„ typeï¼Œä¹‹å¾Œå†è¼¸å…¥æ¨™é¡Œã€å…§æ–‡å’Œ issues å¾Œå°±æœƒè‡ªå‹•ç”¢ç”Ÿå°æ‡‰çš„ <code>commit message</code>ã€‚</p>\n<blockquote>\n<p>ğŸ“š Docs: update readme to show a simple demo</p>\n</blockquote>\n<h3 id=\"setup-locally\"><a href=\"#setup-locally\" class=\"phenomic-HeadingAnchor\">#</a>Setup locally</h3>\n<p>å¦‚æœæœ‰éœ€æ±‚è¦åœ¨ä¸åŒçš„ project ä½¿ç”¨ä¸åŒçš„ <code>adapter</code>ï¼Œ<code>Commitizen</code> ä¹Ÿæœ‰æä¾›ç°¡å–®åœ°è¨­å®šæ–¹å¼ï¼Œåªè¦åœ¨å°ˆæ¡ˆçš„ <code>package.json</code> ä¸­åŠ å…¥ä»¥ä¸‹ï¼š</p>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-string\">\"config\"</span>: {\n  <span class=\"hljs-attr\">\"commitizen\"</span>: {\n    <span class=\"hljs-attr\">\"path\"</span>: <span class=\"hljs-string\">\"emoji-cz\"</span>\n  }\n}</code></pre>\n<p>åœ¨è©²å°ˆæ¡ˆç›®éŒ„åº•ä¸‹çš„ <code>git cz</code> ä¹Ÿæœƒå¥—ç”¨å°æ‡‰çš„ <code>adapter</code> äº†ã€‚</p>\n<p>å®˜æ–¹æ–‡ä»¶ä¸­æä¾›äº†è¨±å¤šå‚‘å‡ºçš„ <a href=\"https://github.com/commitizen/cz-cli#adapters\"><code>adapter</code></a> å¯ä¾›é¸æ“‡ï¼Œä½†ä½ ä¹Ÿå¯ä»¥é¸æ“‡è‡ªå·±å¯«ä¸€å€‹ <code>adapter</code> ä¾†ç¬¦åˆè‡ªå·±çš„éœ€æ±‚ï¼Œä»»æ„ fork ä¸€å€‹èˆ‡è‡ªå·±çš„æ¶æ§‹ç›¸ä¼¼çš„ <code>adapter</code> å¾Œæ‹¿ä¾†æ”¹å¯«å§ï¼Œé‚è¼¯éå¸¸çš„ç°¡å–®è€Œä¸”èƒ½å¤ è‡ªå®šç¾©çš„åœ°æ–¹ä¹Ÿå¾ˆè‡ªç”±ï¼Œæˆ‘é¼“å‹µæ¯å€‹äººéƒ½å¯ä»¥è©¦è©¦çœ‹ã€‚</p>\n<h3 id=\"adding-alias\"><a href=\"#adding-alias\" class=\"phenomic-HeadingAnchor\">#</a>Adding alias</h3>\n<p>è—‰ç”±ä¸€äº› <code>alias</code> çš„æŠ€å·§å¯ä»¥å°‡æŒ‡ä»¤è¨­å®šçš„æ›´åŠ ç¬¦åˆå€‹äººéœ€æ±‚ï¼Œnpm script æ˜¯æœ€ç°¡å–®çš„æ–¹å¼ï¼Œä¾‹å¦‚å°‡ <code>commit</code> çš„æŒ‡ä»¤åŠ å…¥ <code>package.json</code> çš„ <code>scripts</code> ä¸­ï¼š</p>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-string\">\"scripts\"</span>: {\n  <span class=\"hljs-attr\">\"commit\"</span>: <span class=\"hljs-string\">\"git cz\"</span>\n}</code></pre>\n<p>æˆ–æ˜¯æ›´ç°¡å–®çš„ä½¿ç”¨ <a href=\"https://git-scm.com/book/zh-tw/v1/Git-%E5%9F%BA%E7%A4%8E-%E6%8F%90%E7%A4%BA%E5%92%8C%E6%8A%80%E5%B7%A7#Git-%E5%91%BD%E4%BB%A4%E5%88%A5%E5%90%8D\"><code>git alias</code></a> çš„åŠŸèƒ½ä¾†åšå…¨åŸŸè¨­å®šï¼š</p>\n<pre><code class=\"hljs language-bash\">git config --global alias.c cz\ngit c <span class=\"hljs-comment\"># equals to 'git cz'</span></code></pre>\n<p>å¦‚æœæƒ³è¦æ›´é€²ä¸€æ­¥é˜²æ­¢åœ˜éšŠä¸­çš„äººä¸å°å¿ƒ <code>commit</code> äº†éŒ¯èª¤çš„æ ¼å¼ï¼Œå¯ä»¥ä½¿ç”¨ git hook åƒæ˜¯ <a href=\"https://github.com/observing/pre-commit\"><code>pre-commit</code></a> ä¾†åšæ›´é€²ä¸€æ­¥çš„æª¢æŸ¥ã€‚</p>\n<h2 id=\"summary\"><a href=\"#summary\" class=\"phenomic-HeadingAnchor\">#</a>Summary</h2>\n<p>ç¶­è­·å¥½çš„ <code>commit</code> è¨Šæ¯äººäººæœ‰è²¬ï¼ä»¥ä¸Šçš„åŸå‰‡é›–ç„¶ä¸æ˜¯çµ•å°ï¼Œä½†éµå®ˆå¤šä¸€é»é»è¦å‰‡å»å¯ä»¥å¤§å¹…çš„å¢åŠ æ•´é«”è¨Šæ¯çš„å¯è®€æ€§ï¼Œå¸Œæœ›å¤§å®¶çœ‹äº†ä»¥å¾Œä¹Ÿå¯ä»¥åœ¨è‡ªå·±çš„å°ˆæ¡ˆæˆ–æ˜¯åœ˜éšŠä¸­å˜—è©¦å°å…¥é€™äº›ç³»çµ±ã€‚ç•¶ç„¶å¦‚æœå–œæ­¡æˆ‘çš„ <a href=\"https://github.com/kevin940726/emoji-cz\"><code>emoji-cz</code></a> çš„é¢¨æ ¼ä¹Ÿä¸è¦åå—‡åœ°å¹«æˆ‘è·Ÿ <a href=\"https://github.com/commitizen/cz-cli\">Commitizen</a> é»å€‹ star åˆ†äº«çµ¦æ›´å¤šäººå“¦ï½</p>\n<h2 id=\"reference\"><a href=\"#reference\" class=\"phenomic-HeadingAnchor\">#</a>Reference</h2>\n<ul>\n<li><a href=\"https://chris.beams.io/posts/git-commit/\">How to Write a Git Commit Message - Chris Beams</a></li>\n<li><a href=\"https://gist.github.com/stephenparish/9941e89d80e2bc58a153\">AngularJS Git Commit Message Conventions - stephenparish</a></li>\n<li><a href=\"https://github.com/commitizen/cz-cli\">Commitizen</a></li>\n<li><a href=\"https://github.com/kevin940726/emoji-cz\">emoji-cz</a></li>\n</ul>\n","__filename":"posts/Write-your-commit-messages-in-the-right-way.md","__url":"/posts/Write-your-commit-messages-in-the-right-way/","__resourceUrl":"/posts/Write-your-commit-messages-in-the-right-way/index.html","__dataUrl":"/posts/Write-your-commit-messages-in-the-right-way/index.html.de92abca75879a76221dc8704dfe2c46.json"}